{% extends 'question2/layout.html.twig' %}

{% block page_title %}Modifier la Suggestion{% endblock %}

{% block content %}
    <div class="max-w-2xl mx-auto">
        <!-- Form Card -->
        <div class="bg-white shadow-lg rounded-lg overflow-hidden">
            <!-- Card Header -->
            <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                <h2 class="text-xl font-semibold text-gray-700">
                    <i class="fas fa-edit mr-2 text-lime-500"></i>
                    Modifier la Suggestion
                </h2>
            </div>

            <!-- Form Content -->
            <div class="p-6">
                {{ form_start(form, {'attr': {'class': 'space-y-6'}}) }}
                    <!-- Contenu Field -->
                    <div class="space-y-2">
                        {{ form_label(form.contenu, 'Contenu', {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                        <div class="relative rounded-md shadow-sm">
                            {{ form_widget(form.contenu, {
                                'attr': {
                                    'class': 'w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500 transition-shadow',
                                    'placeholder': 'Entrez le contenu de la suggestion...'
                                }
                            }) }}
                        </div>
                        {{ form_errors(form.contenu, {'attr': {'class': 'text-red-500 text-sm mt-1'}}) }}
                    </div>

                    <!-- Est Correcte Field -->
                    <div class="space-y-2">
                        {{ form_label(form.estCorrecte, 'Réponse correcte ?', {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                        <div class="relative flex items-center">
                            {{ form_widget(form.estCorrecte, {
                                'attr': {
                                    'class': 'h-4 w-4 text-lime-500 focus:ring-lime-500 border-gray-300 rounded'
                                }
                            }) }}
                            <span class="ml-2 text-sm text-gray-600">Cochez si cette suggestion est la bonne réponse</span>
                        </div>
                        {{ form_errors(form.estCorrecte, {'attr': {'class': 'text-red-500 text-sm mt-1'}}) }}
                    </div>

                    <!-- Hidden Fields -->
                    <input type="hidden" name="question_id" value="{{ suggestion.question.id }}">
                    <input type="hidden" name="quizz_id" value="{{ quizz_id }}">

                    <!-- Form Actions -->
                    <div class="flex items-center justify-end gap-4 mt-8 pt-6 border-t border-gray-200">
                        <a href="{{ path('app_question2_show', {'id': suggestion.question.id, 'quizz_id': quizz_id}) }}"
                           class="px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition">
                            <i class="fas fa-times mr-2"></i>Annuler
                        </a>
                        <button type="submit" 
                                class="flex items-center px-6 py-2 bg-lime-500 text-white rounded-lg hover:bg-lime-600 transition">
                            <i class="fas fa-save mr-2"></i>
                            Enregistrer les modifications
                        </button>
                    </div>
                {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}
